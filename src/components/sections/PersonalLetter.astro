---
import { Icon } from "astro-icon/components";
import { Picture } from "astro:assets";
import { getRelativeLocaleUrl } from "astro:i18n";
import ImgAvatar from "../../assets/avatars/william-sara.png";
import Button from "../common/Button.astro";

const translations = {
  en: {
    heading: "Crafting your story, visually",
    intro: "Dear reader,",
    p1: "In today's fast-paced world, visuals cut through the noise. They grab attention and stick with people. I use my camera and design skills to create a unique visual style for you, one that connects deeply with your audience.",
    p2: "Be it a stunning photo, a smart graphic, or an engaging video, your brand's story deserves to be told authentically and memorably. I'm here to make that happen.",
    p3: "Ready to create something amazing? I'm excited to hear your ideas and help bring your vision to life. Don't hesitate to get in touch — ",
    emailaway: "I'm just a message away!",
    yourstruly: "Warmly,",
    mvh: "All the best,",
    schedulecall: "Book a call",
    sendmsg: "Send a message",
    aria_schedule: "Schedule a discovery call with William Hallin",
    aria_message: "Send a message to William Hallin",
    aria_contact_options: "Contact options",
  },
  sv: {
    heading: "Skapar din berättelse, visuellt",
    intro: "Kära läsare,",
    p1: "I dagens snabba värld är det visuella som bryter igenom bruset. Det fångar blicken och stannar kvar. Med min kamera och designexpertis skapar jag en unik visuell stil för dig, en som verkligen når din publik.",
    p2: "Oavsett om det gäller ett slående foto, smart grafik eller en engagerande video, förtjänar ditt varumärkes historia att berättas på ett äkta och minnesvärt sätt. Jag hjälper dig att förverkliga det.",
    p3: "Redo att skapa något fantastiskt? Jag ser fram emot att höra dina idéer och hjälpa till att förverkliga din vision. Tveka inte att höra av dig - ",
    emailaway: "jag är bara ett meddelande bort!",
    yourstruly: "Varma hälsningar,",
    mvh: "Allt gott,",
    schedulecall: "Boka ett upptäcktsmöte",
    sendmsg: "Skicka meddelande",
    aria_schedule: "Boka ett upptäcktsmöte med William Hallin",
    aria_message: "Skicka ett meddelande till William Hallin",
    aria_contact_options: "Kontaktval",
  },
};

const locale = Astro.currentLocale === "en" || Astro.currentLocale === "sv" ? Astro.currentLocale : "en";
---

<article
  class="max-w-xl rounded-lg border border-stone-200 bg-amber-100/25 p-6 sm:mx-auto sm:rotate-2 dark:border-stone-700 dark:bg-stone-800"
  aria-labelledby="personal-letter-heading"
>
  <section class="w-full">
    <header class="mb-4 flex flex-col gap-4 sm:flex-row">
      <figure class="sm:absolute sm:-top-8 sm:-left-8" aria-hidden="true">
        <Picture
          src={ImgAvatar}
          alt="William Hallin"
          width={64}
          height={64}
          widths={[32, 64, 128]}
          formats={["avif", "webp", "jpeg"]}
          class="rounded-full border-6 border-amber-50 select-none dark:border-stone-900"
        />
      </figure>
      <h2
        id="personal-letter-heading"
        class="font-handwrite text-2xl text-stone-700 italic underline decoration-red-500 decoration-wavy decoration-from-font underline-offset-4 dark:text-stone-100"
      >
        {translations[locale].heading}
      </h2>
    </header>
    <article class="space-y-4 font-serif leading-8 text-stone-500 dark:text-stone-400">
      <p>
        {translations[locale].intro}
      </p>
      <p>
        {translations[locale].p1}
      </p>
      <p>
        {translations[locale].p2}
      </p>
      <p>
        {translations[locale].p3}<strong>{translations[locale].emailaway}</strong>
      </p>
      <footer class="font-handwrite text-lg">
        <p class="group relative overflow-hidden" aria-hidden="true">
          <span class="inline-block transition-transform duration-300 group-hover:-translate-y-full">
            {translations[locale].yourstruly}
          </span>
          <span
            class="absolute left-0 inline-block translate-y-full transition-transform duration-300 group-hover:translate-y-0"
          >
            {translations[locale].mvh}
          </span>
        </p>
        <p class="font-handwrite text-red-500">William H.</p>
      </footer>
    </article>
    <nav class="mt-6 flex flex-col gap-2 sm:flex-row" aria-label={translations[locale].aria_contact_options}>
      <Button
        href="https://meetings.hubspot.com/william-hallin"
        target="_blank"
        rel="noopener noreferrer"
        arialabel={translations[locale].aria_schedule}
      >
        <Icon name="ph:calendar-duotone" aria-hidden="true" />
        {translations[locale].schedulecall}
      </Button>
      <Button
        href={getRelativeLocaleUrl(locale, "contact")}
        variant="secondary"
        arialabel={translations[locale].aria_message}
      >
        <Icon name="ph:envelope-duotone" aria-hidden="true" />
        {translations[locale].sendmsg}
      </Button>
    </nav>
  </section>
</article>
