---
import { Icon } from "astro-icon/components";
import { Image } from "astro:assets";
import ImgAdobeAe from "../../assets/tech-stack/adobe-ae.svg";
import ImgAffinityDesigner from "../../assets/tech-stack/affinity-designer.svg";
import ImgAffinityPhoto from "../../assets/tech-stack/affinity-photo.svg";
import ImgAffinityPublisher from "../../assets/tech-stack/affinity-publisher.svg";
import ImgCavalry from "../../assets/tech-stack/cavalry.svg";
import ImgDavinci from "../../assets/tech-stack/davinci.svg";
import ImgDxoPhotolab from "../../assets/tech-stack/dxo-photolab.svg";
import ImgFigma from "../../assets/tech-stack/figma.svg";
import ImgFlStudio from "../../assets/tech-stack/fl-studio.png";
import ImgSonarworks from "../../assets/tech-stack/sonarworks.svg";

const locale = Astro.currentLocale === "en" || Astro.currentLocale === "sv" ? Astro.currentLocale : "en";

const translations = {
  en: {
    heading: "William's toolbox",
    description:
      "Curious about the magic behind the visuals? These are the industry-leading software I trust to bring creative visions to life. Whether you're a fellow creative seeking inspiration or a potential client interested in my process, discover the tech that powers HallinMedia.",
  },
  sv: {
    heading: "Williams verktygslåda",
    description:
      "Nyfiken på magin bakom det visuella? Det här är den branschledande mjukvaran jag litar på för att förverkliga kreativa visioner. Oavsett om du är en kreativ kollega som söker inspiration eller en potentiell kund intresserad av min process, upptäck tekniken som driver HallinMedia.",
  },
};

const techCategories = [
  {
    title: {
      en: "Photo Stack",
      sv: "Fotostacken",
    },
    icon: "ph:camera-duotone",
    description: {
      en: "To make your photos shine, I use a powerful duo: Affinity Photo for detailed retouching and creative composites, and DxO PhotoLab for superb RAW processing and initial color grading. This combination ensures every image is polished to perfection.",
      sv: "För att få dina foton att glänsa använder jag en kraftfull duo: Affinity Photo för detaljerad retuschering och kreativa montage, och DxO PhotoLab för superb RAW-bearbetning och initial färgsättning. Denna kombination säkerställer att varje bild poleras till perfektion.",
    },
    tools: [
      {
        name: "Affinity Photo",
        image: ImgAffinityPhoto,
      },
      {
        name: "DxO PhotoLab",
        image: ImgDxoPhotolab,
      },
    ],
  },
  {
    title: {
      en: "Video Stack",
      sv: "Videostacken",
    },
    icon: "ph:video-camera-duotone",
    description: {
      en: "For video content, DaVinci Resolve Studio is my go-to for editing and color grading. After Effects adds that extra flair with motion graphics, while Cavalry helps create slick animations. Together, they turn footage into captivating stories.",
      sv: "För videoinnehåll är DaVinci Resolve Studio mitt förstahandsval för redigering och färgsättning. After Effects adderar det extra med rörlig grafik, medan Cavalry hjälper till att skapa snygga animationer. Tillsammans förvandlar de råmaterial till fängslande berättelser.",
    },
    tools: [
      {
        name: "Cavalry",
        image: ImgCavalry,
      },
      {
        name: "After Effects",
        image: ImgAdobeAe,
      },
      {
        name: "DaVinci Resolve Studio",
        image: ImgDavinci,
      },
    ],
  },
  {
    title: {
      en: "Audio Stack",
      sv: "Ljudstacken",
    },
    icon: "ph:speaker-high-duotone",
    description: {
      en: "Crystal-clear audio is key! FL Studio is my hub for music production and sound design, bringing an immersive audio layer to video projects. Sonarworks SoundID Reference ensures every sound is accurately mixed and translates perfectly, no matter where it's heard.",
      sv: "Kristallklart ljud är A och O! FL Studio är mitt nav för musikproduktion och ljuddesign, vilket adderar ett omslutande ljudlager till videoprojekt. Sonarworks SoundID Reference säkerställer att varje ljud mixas korrekt och låter perfekt, oavsett var det spelas upp.",
    },
    tools: [
      {
        name: "SoundID Reference",
        image: ImgSonarworks,
      },
      {
        name: "FL Studio",
        image: ImgFlStudio,
      },
    ],
  },
  {
    title: {
      en: "Design Stack",
      sv: "Designstacken",
    },
    icon: "ph:paint-brush-duotone",
    description: {
      en: "From pixels to print, my design toolkit is versatile. The Affinity suite (Publisher & Designer) handles all things print and vector. For sleek UI/UX design and interactive web prototypes, Figma is my top choice, ensuring a seamless user experience.",
      sv: "Från pixlar till tryck är min designverktygslåda mångsidig. Affinity-sviten (Publisher & Designer) hanterar allt inom print och vektor. För snygg UI/UX-design och interaktiva webbprototyper är Figma mitt förstahandsval, vilket säkerställer en smidig användarupplevelse.",
    },
    tools: [
      {
        name: "Figma",
        image: ImgFigma,
      },
      {
        name: "Affinity Publisher",
        image: ImgAffinityPublisher,
      },
      {
        name: "Affinity Designer",
        image: ImgAffinityDesigner,
      },
    ],
  },
];
---

<section class="max-w-2xl sm:mx-auto" aria-labelledby="core-services-heading">
  <header class="mb-8 space-y-6">
    <h2 id="core-services-heading" class="relative font-serif text-3xl text-stone-700 italic dark:text-stone-100">
      <span
        class="relative z-10 inline-flex flex-col gap-2 bg-amber-50 pr-4 sm:flex-row sm:items-center dark:bg-stone-900"
      >
        <Icon name="ph:toolbox-duotone" class="h-6 w-6 text-red-500" aria-hidden="true" />
        {translations[locale].heading}
      </span>
      <span
        class="absolute top-1/2 right-0 left-0 -z-0 hidden h-px bg-stone-200 sm:block dark:bg-stone-700"
        aria-hidden="true"></span>
    </h2>
    <p class="font-serif text-stone-500 dark:text-stone-400">
      {translations[locale].description}
    </p>
  </header>
  <div class="grid grid-cols-1 space-y-12">
    {
      techCategories
        .sort((a, b) => b.tools.length - a.tools.length)
        .map((category) => (
          <article class="flex flex-col gap-6 sm:flex-row sm:items-start sm:gap-8">
            <figure class="shrink-0">
              <div class="flex w-32 -space-x-4" role="list" aria-label={category.title[locale]}>
                {category.tools.map((tool) => (
                  <div class="relative">
                    <div class="peer">
                      <Image
                        src={tool.image}
                        alt={tool.name}
                        width={48}
                        height={48}
                        class="rounded-full border border-stone-200 transition select-none hover:scale-110 dark:border-stone-700"
                      />
                    </div>
                    <figcaption class="pointer-events-none absolute bottom-full left-1/2 mb-2 -translate-x-1/2 rounded-md bg-stone-900 px-2 py-1 font-mono text-xs whitespace-nowrap text-stone-100 opacity-0 transition-opacity peer-hover:opacity-100 dark:bg-stone-700">
                      {tool.name}
                      <div class="absolute top-full left-1/2 h-2 w-2 -translate-x-1/2 -translate-y-1/2 rotate-45 bg-stone-900 dark:bg-stone-700" />
                    </figcaption>
                  </div>
                ))}
              </div>
            </figure>
            <div class="space-y-3">
              <header>
                <h3 class="font-handwrite flex items-center gap-2 text-xl text-stone-700 underline decoration-red-500 decoration-wavy decoration-from-font underline-offset-4 dark:text-stone-100">
                  <Icon name={category.icon} class="h-6 w-6 text-red-500" aria-hidden="true" />
                  {category.title[locale]}
                </h3>
              </header>
              <p class="font-serif text-stone-500 dark:text-stone-400">{category.description[locale]}</p>
            </div>
          </article>
        ))
    }
  </div>
</section>
