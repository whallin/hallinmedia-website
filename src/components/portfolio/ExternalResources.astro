---
import PhArrowSquareOutDuotone from "../icons/PhArrowSquareOutDuotone.astro";

const translations = {
  en: {
    external_resources: "External Resources",
    opens_new_tab: "opens in new tab",
  },
  sv: {
    external_resources: "Externa resurser",
    opens_new_tab: "Ã¶ppnas i ny flik",
  },
};

const { workId, links } = Astro.props;
---

<section
  class="mt-8 selection:bg-red-300 selection:text-red-800"
  aria-labelledby="external-resources-heading"
>
  <h2 id="external-resources-heading" class="mb-4 text-2xl font-light text-stone-900 italic">
    {translations[Astro.currentLocale].external_resources}
  </h2>
  <nav aria-label={translations[Astro.currentLocale].external_resources}>
    <ul class="flex flex-wrap gap-4 text-sm text-stone-700" role="list">
      {
        links?.map((link) => (
          <li class="w-full sm:w-auto" role="listitem">
            <a
              href={link.url}
              data-umami-event={`ext-resource_${workId}_'${link.label}'`}
              data-umami-event-url={link.url}
              data-umami-event-origin={Astro.url}
              target="_blank"
              rel="noopener noreferrer"
              class="flex items-center justify-center gap-2 rounded-lg border border-stone-300 px-4 py-2 transition hover:border-red-500 hover:text-red-700 active:scale-90 active:border-red-500 active:text-red-700 sm:justify-normal"
              aria-label={`${link.label} (${translations[Astro.currentLocale].opens_new_tab})`}
            >
              <PhArrowSquareOutDuotone class="inline-block h-4 w-4" aria-hidden="true" />
              {link.label}
            </a>
          </li>
        ))
      }
    </ul>
  </nav>
</section>
