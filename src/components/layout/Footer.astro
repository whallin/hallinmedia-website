---
import { Image } from "astro:assets";
import { GIT_HASH } from "astro:env/client";
import { getRelativeLocaleUrl } from "astro:i18n";
import ImgAvatar from "../../assets/images/avatar.jpeg";

const translations = {
  en: {
    title: "Photographer & Designer",
    alt: "Portrait of William Hallin",
    navTitle: "Explore",
  },
  sv: {
    title: "Fotograf & Designer",
    alt: "Portr√§tt av William Hallin",
    navTitle: "Utforska",
  },
};

const navLinks = [
  { path: "/", label: "/home" },
  { path: "portfolio", label: "/portfolio" },
  { path: "clients", label: "/clients" },
  { path: "contact", label: "/contact" },
  { path: "faq", label: "/faq" },
  { path: "blog", label: "/blog" },
  { path: "legal", label: "/legal" },
];

const socialLinks = [
  {
    href: "mailto:william@hallin.media?subject=Hey!",
    label: "mailto:",
    classes: {
      base: "decoration-amber-500 selection:bg-amber-300 selection:text-amber-700",
      hover: "hover:bg-amber-500 hover:text-amber-100",
      active: "active:bg-amber-500 active:text-amber-100",
    },
  },
  {
    href: "tel:+46706159279",
    label: "tel:",
    classes: {
      base: "decoration-red-500 selection:bg-red-300 selection:text-red-700",
      hover: "hover:bg-red-500 hover:text-red-100",
      active: "active:bg-red-500 active:text-red-100",
    },
  },
  {
    href: "https://www.instagram.com/williamhallinn",
    label: "instagram",
    classes: {
      base: "decoration-pink-500 selection:bg-pink-300 selection:text-pink-700",
      hover: "hover:bg-pink-500 hover:text-pink-100",
      active: "active:bg-pink-500 active:text-pink-100",
    },
  },
  {
    href: "https://www.linkedin.com/in/williamhallin",
    label: "linkedin",
    classes: {
      base: "decoration-blue-500 selection:bg-blue-300 selection:text-blue-700",
      hover: "hover:bg-blue-500 hover:text-blue-100",
      active: "active:bg-blue-500 active:text-blue-100",
    },
  },
];
---

<footer class="mt-12 flex flex-col gap-8">
  <hr class="border-stone-300" />
  <div class="flex flex-col gap-8 md:justify-between">
    <nav
      class="flex justify-between gap-4 font-serif text-sm text-stone-500 selection:bg-red-300 selection:text-red-800"
    >
      <h3 class="font-medium text-stone-700">
        {translations[Astro.currentLocale].navTitle}
      </h3>
      <menu class="flex flex-wrap justify-end gap-2 font-light">
        {
          navLinks.map((link) => (
            <a
              href={getRelativeLocaleUrl(`${Astro.currentLocale}`, link.path)}
              class="underline decoration-dashed decoration-from-font underline-offset-4 hover:bg-red-500 hover:text-stone-50 hover:no-underline active:bg-red-500 active:text-stone-50 active:no-underline"
            >
              {link.label}
            </a>
          ))
        }
      </menu>
    </nav>

    <address class="flex flex-col justify-between gap-4 sm:flex-row sm:items-center">
      <figure class="flex items-center gap-4 font-serif">
        <Image
          src={ImgAvatar}
          alt={translations[Astro.currentLocale].alt}
          width="128"
          height="128"
          class="h-8 w-8 rounded-full border border-stone-300 object-cover drop-shadow-xs select-none"
        />
        <figcaption class="flex flex-col selection:bg-red-300 selection:text-red-800">
          <span class="font-medium">William Hallin</span>
          <span class="text-sm font-light text-stone-700 italic">
            {translations[Astro.currentLocale].title}
          </span>
        </figcaption>
      </figure>
      <div class="flex flex-col gap-2 sm:items-end">
        <menu class="flex flex-wrap gap-2 font-serif text-sm">
          {
            socialLinks.map((link) => (
              <a
                href={link.href}
                target={link.href.startsWith("http") ? "_blank" : undefined}
                class={`underline decoration-dashed decoration-from-font underline-offset-4 ${link.classes.base} ${link.classes.hover} ${link.classes.active}`}
              >
                {link.label}
              </a>
            ))
          }
        </menu>
        <div class="flex items-center gap-2">
          <a
            href="https://github.com/whallin/hallinmedia-website"
            target="_blank"
            class="font-mono text-xs font-light text-stone-500 hover:bg-stone-500 hover:text-stone-100 active:bg-stone-500 active:text-stone-100"
            >{GIT_HASH}</a
          >
        </div>
      </div>
    </address>
  </div>
</footer>
