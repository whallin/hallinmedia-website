---
import { Picture } from 'astro:assets'
import { getRelativeLocaleUrl } from 'astro:i18n'
import Avatar from '../assets/avatar.png'
import HallinmediaGradientBG from '../assets/brand/hallinmedia-gradient.png'
import SpotifyNowPlaying from '../components/SpotifyNowPlaying.astro'
import PhHandWavingDuotone from '../components/icon/PhHandWavingDuotone.astro'
import LayoutMain from '../layouts/Main.astro'
---

<LayoutMain title="Hem">
	<main>
		<div
			class="relative h-fit overflow-clip break-words rounded-xl bg-gradient-to-t from-red-900/70 to-red-900/0 p-8 shadow-lg sm:h-[250px]"
		>
			<div class="flex h-full flex-col justify-between gap-12">
				<div class="flex items-center gap-4 opacity-0" id="landing-avatar">
					<Picture
						src={Avatar}
						alt="Picture of William Hallin"
						formats={['avif', 'webp']}
						height={48}
						class="select-none rounded-full opacity-0"
						id="landing-avatar--img"
					/>
					<PhHandWavingDuotone class="h-10 w-10 text-red-800 opacity-0" id="landing-avatar--wave" />
				</div>
				<h1 class="text-3xl font-light text-stone-50 opacity-0" id="landing-header">
					<a
						href={getRelativeLocaleUrl(Astro.currentLocale, 'work')}
						class="underline decoration-2 underline-offset-4 transition duration-200 hover:opacity-75 focus:opacity-50"
						>Frilansande</a
					> digital designer & videoproducent i <i class="font-serif">Skellefteå, Sweden.</i>
				</h1>
			</div>
			<Picture
				src={HallinmediaGradientBG}
				alt=""
				formats={['avif', 'webp']}
				height={300}
				class="justify-self absolute left-0 top-0 -z-10 h-full w-full select-none"
			/>
		</div>
	</main>
	<section id="about" class="flex flex-col gap-4 py-12">
		<h2 id="about-1" class="text-2xl">Hallå <i class="font-serif">där!</i></h2>
		<p id="about-2">
			Tack för att du tittade förbi min sajt! Den är för närvarande på väg att få lite av en
			makeover, men jag är super glad att du är intresserad.
		</p>
		<p id="about-3">
			Om du inte skulle ha något emot att titta förbi lite senare, så vore det fantastiskt! Det
			finns inte så mycket att se just nu, och jag ser fram emot att visa dig alla läckra saker som
			kommer framöver.
		</p>
		<p id="about-4">
			Under tiden, om du är nyfiken på vad jag gör, är du välkommen att kolla in mina sociala medier
			i sidfoten nedan. Jag är aktiv både på Instagram och LinkedIn, och jag skulle gärna träffa dig
			där!
		</p>
	</section>
	<SpotifyNowPlaying />

	<script>
		document.addEventListener(
			'astro:page-load',
			() => {
				gsap.set(
					['#landing-avatar--img', '#landing-avatar--wave', '#landing-avatar', '#landing-header'],
					{
						opacity: 1
					}
				)

				gsap.from(['#landing-avatar--img', '#landing-avatar--wave'], {
					y: -10,
					opacity: 0,
					duration: 1,
					ease: 'power2.out',
					stagger: 0.25
				})

				gsap.from(['#landing-avatar', '#landing-header'], {
					y: -10,
					opacity: 0,
					duration: 1,
					ease: 'power2.out',
					stagger: 0.5
				})

				gsap.to('#landing-avatar--wave', {
					rotation: 20,
					duration: 1,
					yoyo: true,
					repeat: -1,
					ease: 'power1.inOut'
				})
			},
			{ once: false }
		)
	</script>
</LayoutMain>
